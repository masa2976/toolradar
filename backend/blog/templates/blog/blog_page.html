{% extends "blog/base.html" %}
{% load wagtailcore_tags %}

{% block title %}{{ page.title }} - ToolRadar{% endblock %}

{% block content %}
<article class="blog-post" style="max-width: 800px; margin: 0 auto;">
    <h1 style="font-size: 2.25rem; margin-bottom: 1rem; color: #111827;">
        {{ page.title }}
    </h1>
    
    <div class="meta" style="font-size: 0.875rem; color: #6B7280; margin-bottom: 2rem; padding-bottom: 1rem; border-bottom: 2px solid #E5E7EB;">
        {% if page.category %}
            <span style="background: #DBEAFE; color: #1E40AF; padding: 0.25rem 0.75rem; border-radius: 0.25rem; margin-right: 0.5rem;">
                📁 {{ page.category }}
            </span>
        {% endif %}
        {% if page.investment_type %}
            <span style="background: #D1FAE5; color: #065F46; padding: 0.25rem 0.75rem; border-radius: 0.25rem; margin-right: 0.5rem;">
                💰 {{ page.investment_type }}
            </span>
        {% endif %}
        <span style="margin-left: 0.5rem;">
            📅 {{ page.first_published_at|date:"Y年m月d日" }}
        </span>
        <span style="margin-left: 1rem;">
            👁️ {{ page.view_count }}回閲覧
        </span>
    </div>
    
    {% if page.featured_image %}
        <div class="featured-image" style="margin-bottom: 2rem;">
            <img src="{{ page.featured_image.url }}" alt="{{ page.title }}" style="width: 100%; height: auto; border-radius: 0.5rem;">
        </div>
    {% endif %}
    
    {% if page.excerpt %}
        <p class="excerpt" style="font-size: 1.125rem; line-height: 1.75; color: #374151; margin-bottom: 2rem; padding: 1rem; background: #F9FAFB; border-left: 4px solid #2563EB;">
            {{ page.excerpt }}
        </p>
    {% endif %}
    
    <div class="content" style="font-size: 1rem; line-height: 1.75; color: #1F2937;">
        {% include_block page.body %}
    </div>
    
    {% if page.tags.all %}
        <div class="tags" style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid #E5E7EB;">
            <h3 style="font-size: 1.25rem; margin-bottom: 1rem; color: #374151;">🏷️ タグ</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
            {% for tag in page.tags.all %}
                <span class="tag" style="background: #F3F4F6; color: #4B5563; padding: 0.5rem 1rem; border-radius: 0.375rem; font-size: 0.875rem;">
                    {{ tag.name }}
                </span>
            {% endfor %}
            </div>
        </div>
    {% endif %}
    
    {% if page.related_tools.all %}
        <div class="related-tools" style="margin-top: 2rem; padding: 1.5rem; background: #F9FAFB; border-radius: 0.5rem;">
            <h3 style="font-size: 1.25rem; margin-bottom: 1rem; color: #374151;">🔧 関連ツール</h3>
            <ul style="list-style: none; padding: 0; margin: 0;">
            {% for tool in page.related_tools.all %}
                <li style="padding: 0.75rem 0; border-bottom: 1px solid #E5E7EB;">
                    <strong style="color: #2563EB;">{{ tool.name }}</strong>
                    {% if tool.short_description %}
                        <p style="margin: 0.25rem 0 0 0; color: #6B7280; font-size: 0.875rem;">
                            {{ tool.short_description }}
                        </p>
                    {% endif %}
                </li>
            {% endfor %}
            </ul>
        </div>
    {% endif %}
</article>
{% endblock %}
